<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8">

        <title>Settings</title>

        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/skeleton/skeleton.css">
        <link rel="stylesheet" href="/css/skeleton/normalize.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    
        <link rel="shortcut icon" type="image/png" href="/favicon.ico"/>

        <script type="text/javascript" src="/js/jquery.js"></script>
        <script src="/js/riot_compiler.min.js"></script>
    </head>

    <body>
      <div class="card">
        <ul class="nav">
          <li><a href="/"><i class="fas fa-home"></i> Home</a></li>   
          <li><a href="/discover"><i class="fas fa-graduation-cap"></i> Discover</a></li>
          <li><a href="/search"><i class="fas fa-search"></i> Search</a></li>   
          <li><a href="/write"><i class="fas fa-chalkboard"></i> Write</a></li>
          <li><a href="/settings"><i class="fas fa-sliders-h"></i> Settings</a></li>
          <li><a href="/profile/{{muid}}"><i class="fas fa-user-alt"></i> Profile</a></li>
          <li><a href="/logout"><i class="fas fa-sign-out-alt"></i> Sign Out</a></li>
        </ul>
        <br>
      </div>

			<br><br><br>

      <div class="container">
        <div class="row">
          <div class="center">
            <img id="pfp" class="profile-cover" src="{{image}}"/>
            <h1>{{name}} {{verified}}</h1>
            <h3>{{posts}} Posts • {{comments}} Comments • {{followers}} Followers • {{following}} Following</h1>
            <h5>{{description}}</h5>
          </div>

          <br><br>
          <h1>Profile Picture</h1>
          <form ref='uploadForm' encType="multipart/form-data" class="" action="/settings/newpic" method="post">
            <input type="file" name="cover" value="">
            <br><br>
            <input type="password" class="fifty" name="password" placeholder="Current Password">
            <br><br>
            <input class="button-primary" type="submit" value="update">
          </form>
          <br><br>
          <h1>Profile Description</h1>
          <form ref='uploadForm' encType="multipart/form-data" class="" action="/settings/newdesc" method="post">
            <textarea rows="7" cols="7" class="u-full-width" placeholder="Description" name="description" id="editor"></textarea>
            <br><br>
            <input type="password" class="fifty" name="password" placeholder="Current Password">
            <br><br>
            <input class="button-primary" type="submit" value="update">
          </form>
          <br><br>
          <h1>Account Password</h1>
          <form ref='uploadForm' encType="multipart/form-data" class="" action="/settings/newpass" method="post">
            <input type="password" class="fifty" name="password" placeholder="Current Password">
            <br><br>
            <input placeholder="New Password" class="fifty" type="password" name="pass"> 
            <br><br>
            <input class="button-primary" type="submit" value="set password">
          </form>
          <br><br>
          <a href="/download/me">View everything Thoxyn knows about you</a>
          <br><br>
          <a href="https://f002.backblazeb2.com/file/Thoxyn-Public-Docs/Current+Thoxyn+Dependency+Report.pdf">Open Source Third-Party Software Notices</a>
        </div>
      </div>

      <br><br>

      <settingsfeed location="/serve/feed/me/all"></settingsfeed>

      <div id="loading" class="spinner">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
      </div>

      <script>
        let app = JSON.parse("{{app}}")

        this.posts = []
      </script>

      <script type="riot/tag" src="/tags/settingsfeed.html">
      </script>

      <script>
        riot.mount('settingsfeed', {
        });
      </script>
    </body>
</html>
